# Пример настройки CupBot

## 1. Создание бота в Telegram

1. Напишите [@BotFather](https://t.me/botfather)
2. Создайте нового бота командой `/newbot`
3. Выберите имя и username для бота
4. Получите токен (например: `123456789:ABCDEFGHIJKLMNOPQRSTUVWXYZ`)

## 2. Получение вашего Telegram ID

1. Напишите [@userinfobot](https://t.me/userinfobot)
2. Скопируйте ваш ID (например: `123456789`)

## 3. Настройка переменных окружения (рекомендуется)

Создайте файл `.env` в корне проекта или установите переменные окружения:

```bash
# Windows (PowerShell)
$env:BOT_TOKEN="123456789:ABCDEFGHIJKLMNOPQRSTUVWXYZ"
$env:ADMIN_USER_IDS="123456789"
$env:ALLOWED_USER_IDS="123456789,987654321"
$env:DB_PATH="cupbot.db"
$env:BOT_DEBUG="false"

# Windows (CMD)
set BOT_TOKEN=123456789:ABCDEFGHIJKLMNOPQRSTUVWXYZ
set ADMIN_USER_IDS=123456789
set ALLOWED_USER_IDS=123456789,987654321
set DB_PATH=cupbot.db
set BOT_DEBUG=false
```

## 4. Альтернативная настройка через config.yaml

Отредактируйте файл `config/config.yaml`:

```yaml
bot:
  token: "123456789:ABCDEFGHIJKLMNOPQRSTUVWXYZ"
  debug: false

database:
  path: "cupbot.db"

users:
  admin_user_ids: [123456789]  # Ваш Telegram ID
  allowed_users: [987654321]   # Дополнительные пользователи (необязательно)
```

## 5. Запуск бота

```bash
# Прямой запуск
./cupbot

# Или с указанием конфигурации
./cupbot -config config/config.yaml

# Или через go run
go run main.go
```

## 6. Проверка работы

После запуска бота:

1. Найдите вашего бота в Telegram по username
2. Напишите `/start`
3. Если настройка корректна, бот ответит приветствием
4. Попробуйте команду `/status` для просмотра состояния системы

## Примечания

- **Безопасность**: Никогда не публикуйте токен бота в открытом доступе
- **Права**: Некоторые системные функции могут требовать запуска от имени администратора
- **Автозапуск**: Для автоматического запуска при старте системы добавьте бота в автозагрузку Windows
- **Логи**: При возникновении проблем запустите бота с `BOT_DEBUG=true` для подробного логирования

## Устранение неполадок

### Бот не отвечает
- Проверьте правильность токена
- Убедитесь, что ваш ID добавлен в admin_user_ids

### Ошибки системной информации  
- Запустите бота от имени администратора
- Проверьте совместимость с вашей версией Windows

### Проблемы с базой данных
- Убедитесь в наличии прав записи в текущую директорию
- Проверьте, что файл БД не используется другими процессами